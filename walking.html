<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Walking Tours ¬∑ Facundo Goette</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="description" content="Walking tours de Facundo Goette: recorridos a pie, detalles que pasan desapercibidos y ciudad en tiempo real. Playlist actualizada en YouTube." />
  <link rel="canonical" href="https://facugoette8.github.io/walking.html" />

  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Facundo Goette" />
  <meta property="og:url" content="https://facugoette8.github.io/walking.html" />
  <meta property="og:title" content="Walking Tours ¬∑ Facundo Goette" />
  <meta property="og:description" content="Recorridos a pie: caminamos la ciudad y la contamos. Playlist actualizada en YouTube." />
  <meta property="og:image" content="https://facugoette8.github.io/site-bg.jpg" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Walking Tours ¬∑ Facundo Goette" />
  <meta name="twitter:description" content="Recorridos a pie: caminamos la ciudad y la contamos. Playlist actualizada en YouTube." />
  <meta name="twitter:image" content="https://facugoette8.github.io/site-bg.jpg" />

  <link rel="stylesheet" href="styles.css" />

  <style>
    html, body { background: transparent !important; }

    /* Fondo */
    .page-bg, .page-bg-overlay { position: fixed; inset: 0; z-index: -2; pointer-events: none; }
    .page-bg {
      z-index: -2;
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center 5%;
      background-color: #ffffff;
      background-image: url("site-bg.jpg");
      background-image: image-set(url("site-bg@2x.jpg") 2x, url("site-bg.jpg") 1x);
      will-change: background-position;
    }
    .page-bg-overlay { z-index: -1; background: rgba(255,255,255,.34); }

    /* Cristal */
    .header { background: rgba(255,255,255,.72) !important; backdrop-filter: blur(12px); }
    .hero, .card { background: rgba(255,255,255,.78) !important; backdrop-filter: blur(10px); }

    /* Compacto */
    body { font-size: 14px; }
    .hero { padding: 1rem !important; }
    .card { padding: .85rem !important; }
    .btn  { padding: .46rem .8rem !important; font-size: .88rem !important; }
    .section__title { font-size: 1.08rem !important; }
    .section__subtitle { font-size: .88rem !important; }

    /* Responsive video */
    .video-wrap{
      margin-top:.6rem;
      border-radius:14px;
      overflow:hidden;
      border:1px solid var(--border);
      background: rgba(255,255,255,.55);
      position: relative;
      width: 100%;
      padding-top: 56.25%;
    }
    .video-wrap iframe{
      position:absolute; inset:0;
      width:100%; height:100%;
      border:0;
      display:block;
    }

    /* Layout */
    .grid3 { display:grid; gap:1rem; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 900px){ .grid3 { grid-template-columns: minmax(0, 1fr); } }

    .note {
      margin-top:.65rem;
      padding:.7rem .85rem;
      border-radius:14px;
      border:1px dashed var(--border);
      background: rgba(255,255,255,.62);
      color:#374151;
      line-height:1.55;
      font-size:.9rem;
    }

    /* Cards YouTube (auto) */
    .yt-grid { display:grid; gap:1rem; grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 1000px){ .yt-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 700px){ .yt-grid { grid-template-columns: minmax(0, 1fr); } }

    .yt-card {
      display:flex;
      flex-direction:column;
      gap:.6rem;
      text-decoration:none;
      color: inherit;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(10px);
      overflow:hidden;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .yt-card:hover { transform: translateY(-2px); box-shadow: 0 8px 22px rgba(0,0,0,.08); }

    .yt-thumb {
      width:100%;
      aspect-ratio: 16 / 9;
      object-fit: cover;
      display:block;
      background: #f3f4f6;
    }
    .yt-body { padding: .8rem .85rem .9rem; }
    .yt-title { margin:0 0 .35rem; font-size: .95rem; line-height:1.25; color:#111827; }
    .yt-meta { font-size:.8rem; color: var(--muted); display:flex; gap:.5rem; flex-wrap:wrap; }
    .yt-badges { margin-top:.55rem; display:flex; gap:.5rem; flex-wrap:wrap; }
    .yt-pill {
      font-size:.75rem;
      padding:.28rem .55rem;
      border-radius: 999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.6);
    }

    .loading {
      padding: .8rem .85rem;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.62);
      color:#374151;
      font-size:.9rem;
    }
  </style>
</head>

<body>
  <div class="page-bg" aria-hidden="true"></div>
  <div class="page-bg-overlay" aria-hidden="true"></div>

  <header class="header">
    <div class="container header__inner">
      <div class="brand">
        <a class="brand__name" href="index.html">Facundo Goette</a>
        <div class="brand__tagline">El mundo como nunca lo viste</div>
      </div>

      <nav class="nav">
        <a class="nav__link" href="index.html">Inicio</a>
        <a class="nav__link nav__link--active" href="walking.html">Walking tours</a>
        <a class="nav__link" href="streams.html">Reflexiones</a>
        <a class="nav__link" href="clases.html">Clases</a>
        <a class="nav__link" href="contacto.html">Contacto</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="hero">
      <h1 class="hero__title">Walking tours</h1>
      <p class="hero__lead">
        Recorridos a pie: ciudad en tiempo real, detalles que suelen pasar de largo y una forma personal de mirar.
      </p>

      <div class="hero__actions" style="margin-top:.8rem;">
        <a class="btn btn--primary" href="#ultimos">Ver videos</a>
        <a class="btn" href="#playlist">Ver playlist</a>
        <a class="btn btn--ghost" href="https://www.youtube.com/playlist?list=PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO" target="_blank" rel="noopener">Abrir en YouTube</a>
      </div>
    </section>

    <!-- √öLTIMOS VIDEOS (AUTO) -->
    <section id="ultimos" class="section">
      <div class="section__header">
        <h2 class="section__title">Videos</h2>
        <p class="section__subtitle">Se actualiza solo con tu playlist.</p>
      </div>

      <div id="ytLoading" class="loading">Cargando videos‚Ä¶</div>
      <div id="ytGrid" class="yt-grid" style="display:none;"></div>

      <div id="ytFail" class="note" style="display:none;">
        No pudimos cargar la grilla autom√°tica en este navegador. Abr√≠ la playlist en YouTube:
        <a href="https://www.youtube.com/playlist?list=PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO" target="_blank" rel="noopener"><strong>Ver playlist</strong></a>
      </div>
    </section>

    <!-- PLAYLIST EMBEBIDA -->
    <section id="playlist" class="section section--soft">
      <div class="section__header">
        <h2 class="section__title">Playlist</h2>
        <p class="section__subtitle">Lista completa en un solo lugar.</p>
      </div>

      <article class="card">
        <div class="card__actions" style="display:flex; gap:.6rem; flex-wrap:wrap;">
          <a class="btn btn--primary" href="https://www.youtube.com/playlist?list=PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO" target="_blank" rel="noopener">Ver playlist</a>
          <a class="btn btn--ghost" href="https://www.youtube.com/@facugoette8?sub_confirmation=1" target="_blank" rel="noopener">Suscribirme</a>
        </div>

        <div class="video-wrap">
          <iframe
            loading="lazy"
            src="https://www.youtube.com/embed/videoseries?list=PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO"
            title="Playlist ¬∑ Walking Tours"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>

        <div class="note">
          Si el listado lateral no aparece seg√∫n navegador, abrimos la playlist en YouTube y listo.
        </div>
      </article>
    </section>

    <!-- FORMATO -->
    <section class="section">
      <div class="section__header">
        <h2 class="section__title">Formato</h2>
        <p class="section__subtitle">Qu√© define estos walking tours.</p>
      </div>

      <div class="grid3">
        <article class="card">
          <h3 class="card__title">üó∫Ô∏è Recorrido</h3>
          <p class="card__text">Calles, barrios, plazas: caminata real, sin montaje.</p>
          <div class="card__meta">Ritmo natural.</div>
        </article>

        <article class="card">
          <h3 class="card__title">üëÄ Observaci√≥n</h3>
          <p class="card__text">Detalles y peque√±as historias que normalmente se te escapan.</p>
          <div class="card__meta">Mirada personal.</div>
        </article>

        <article class="card">
          <h3 class="card__title">üéß Ambiente</h3>
          <p class="card__text">Sonido y ciudad tal cual: lo lindo y lo imperfecto.</p>
          <div class="card__meta">Sin filtro.</div>
        </article>
      </div>
    </section>

    <!-- CTA LIVIANO -->
    <section class="section">
      <article class="card">
        <h2 class="section__title" style="margin:0 0 .35rem;">¬øQuer√©s seguirlos desde YouTube?</h2>
        <p class="section__subtitle" style="margin:0 0 .75rem;">
          La playlist est√° siempre actualizada.
        </p>
        <div class="card__actions" style="display:flex; gap:.6rem; flex-wrap:wrap;">
          <a class="btn btn--primary" href="https://www.youtube.com/playlist?list=PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO" target="_blank" rel="noopener">Ver playlist</a>
          <a class="btn btn--ghost" href="https://www.youtube.com/@facugoette8?sub_confirmation=1" target="_blank" rel="noopener">Suscribirme</a>
        </div>
      </article>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <div>¬© 2025 Facundo Goette</div>
      <div class="footer__links">
        <a class="link" href="index.html">Inicio</a>
        <span class="dot">¬∑</span>
        <a class="link" href="walking.html">Walking tours</a>
      </div>
    </div>
  </footer>

  <!-- Fondo: recorre la foto de arriba hacia abajo -->
  <script>
    (() => {
      const bg = document.querySelector(".page-bg");
      if (!bg) return;
      if (window.matchMedia("(prefers-reduced-motion: reduce)").matches) return;

      const startY = 5, endY = 95;
      let ticking = false;

      const setPos = () => {
        const doc = document.documentElement;
        const maxScroll = Math.max(1, doc.scrollHeight - window.innerHeight);
        const ratio = Math.min(1, Math.max(0, (window.scrollY || 0) / maxScroll));
        const y = startY + (endY - startY) * ratio;
        bg.style.backgroundPosition = `center ${y}%`;
        ticking = false;
      };

      const onScroll = () => {
        if (!ticking) { ticking = true; requestAnimationFrame(setPos); }
      };

      setPos();
      window.addEventListener("scroll", onScroll, { passive: true });
      window.addEventListener("resize", setPos);
      setTimeout(setPos, 800);
      setTimeout(setPos, 1800);
    })();
  </script>

  <!-- Cards autom√°ticas desde el feed de la playlist -->
  <script>
    (() => {
      const PLAYLIST_ID = "PLRSOHePqUicoaWpShutgzAnXhKmSNcXjO";
      const FEED = `https://www.youtube.com/feeds/videos.xml?playlist_id=${PLAYLIST_ID}`;
      const FEED_FALLBACK = `https://r.jina.ai/https://www.youtube.com/feeds/videos.xml?playlist_id=${PLAYLIST_ID}`;

      const loadingEl = document.getElementById("ytLoading");
      const gridEl = document.getElementById("ytGrid");
      const failEl = document.getElementById("ytFail");

      const esc = (s) => (s || "").replace(/[&<>"']/g, (m) => ({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[m]));

      const fmtDate = (iso) => {
        try {
          const d = new Date(iso);
          return d.toLocaleDateString("es-ES", { year:"numeric", month:"short", day:"2-digit" });
        } catch { return ""; }
      };

      const normalizeXml = (txt) => {
        const start = txt.indexOf("<feed");
        const end = txt.lastIndexOf("</feed>");
        if (start !== -1 && end !== -1) return txt.slice(start, end + 7);
        return txt;
      };

      const getNodeText = (parent, sel) => parent.querySelector(sel)?.textContent?.trim() || "";

      const parseFeed = (xmlText) => {
        const xml = new DOMParser().parseFromString(xmlText, "text/xml");
        const entries = Array.from(xml.getElementsByTagName("entry"));
        return entries.map((e) => {
          const title = getNodeText(e, "title");
          const published = getNodeText(e, "published");
          const linkEl = e.querySelector('link[rel="alternate"]') || e.querySelector("link");
          const url = linkEl?.getAttribute("href") || "";
          const vid = getNodeText(e, "yt\\:videoId") || "";
          let thumb = "";
          try {
            const tn = e.querySelector("media\\:thumbnail");
            thumb = tn?.getAttribute("url") || "";
          } catch {}
          if (!thumb && vid) thumb = `https://i.ytimg.com/vi/${vid}/hqdefault.jpg`;
          return { title, published, url, vid, thumb };
        }).filter(v => v.url && v.title);
      };

      const render = (items) => {
        const max = Math.min(items.length, 12);
        const html = items.slice(0, max).map((v) => {
          const date = fmtDate(v.published);
          return `
            <a class="yt-card" href="${esc(v.url)}" target="_blank" rel="noopener">
              <img class="yt-thumb" loading="lazy" src="${esc(v.thumb)}" alt="${esc(v.title)}">
              <div class="yt-body">
                <h3 class="yt-title">${esc(v.title)}</h3>
                <div class="yt-meta">
                  <span>${esc(date)}</span>
                  <span>¬∑</span>
                  <span>Walking tour</span>
                </div>
                <div class="yt-badges">
                  <span class="yt-pill">YouTube</span>
                  <span class="yt-pill">Playlist</span>
                </div>
              </div>
            </a>
          `;
        }).join("");

        gridEl.innerHTML = html;
        gridEl.style.display = "";
        loadingEl.style.display = "none";
      };

      const fail = () => {
        loadingEl.style.display = "none";
        failEl.style.display = "";
      };

      const load = async () => {
        try {
          const r = await fetch(FEED, { cache: "no-store" });
          if (!r.ok) throw new Error("feed not ok");
          const t = await r.text();
          const items = parseFeed(t);
          if (!items.length) throw new Error("no items");
          render(items);
          return;
        } catch {}

        try {
          const r2 = await fetch(FEED_FALLBACK, { cache: "no-store" });
          if (!r2.ok) throw new Error("fallback not ok");
          const t2 = normalizeXml(await r2.text());
          const items2 = parseFeed(t2);
          if (!items2.length) throw new Error("no items");
          render(items2);
          return;
        } catch {}

        fail();
      };

      load();
    })();
  </script>
</body>
</html>
